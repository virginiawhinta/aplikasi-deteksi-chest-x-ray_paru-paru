<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Medical AI</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            @keyframes float {
                0%,
                100% {
                    transform: translateY(0px) rotate(0deg);
                }
                33% {
                    transform: translateY(-15px) rotate(2deg);
                }
                66% {
                    transform: translateY(-5px) rotate(-1deg);
                }
            }
            @keyframes pulseGlow {
                0%,
                100% {
                    box-shadow: 0 0 30px rgba(34, 197, 94, 0.4);
                }
                50% {
                    box-shadow: 0 0 50px rgba(34, 197, 94, 0.7);
                }
            }
            @keyframes wave {
                0% {
                    transform: translateX(-100%);
                }
                50% {
                    transform: translateX(100%);
                }
                100% {
                    transform: translateX(100%);
                }
            }
            @keyframes slideInLeft {
                from {
                    opacity: 0;
                    transform: translateX(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
            @keyframes slideInRight {
                from {
                    opacity: 0;
                    transform: translateX(50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
            @keyframes slideInUp {
                from {
                    transform: translateY(50px);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }
            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            @keyframes flowUp {
                0% {
                    transform: translateY(20px);
                    opacity: 0;
                }
                100% {
                    transform: translateY(0);
                    opacity: 1;
                }
            }
            @keyframes drawArrow {
                0% {
                    stroke-dashoffset: 100;
                }
                50% {
                    stroke-dashoffset: 0;
                }
                100% {
                    stroke-dashoffset: -100;
                }
            }
            @keyframes progressFill {
                0% {
                    width: 0%;
                }
                100% {
                    width: var(--progress-width);
                }
            }
            @keyframes scaleIn {
                0% {
                    transform: scale(0.8);
                    opacity: 0;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            .float-animation {
                animation: float 8s ease-in-out infinite;
            }
            .pulse-glow {
                animation: pulseGlow 3s ease-in-out infinite;
            }
            .wave-animation {
                animation: wave 3s ease-in-out infinite;
            }
            .slide-in-left {
                animation: slideInLeft 0.6s ease-out;
            }
            .slide-in-right {
                animation: slideInRight 0.6s ease-out;
            }
            .slide-in-up {
                animation: slideInUp 0.8s ease-out;
            }
            .spin-animation {
                animation: spin 2s linear infinite;
            }
            .fade-in {
                animation: fadeIn 0.5s ease-out;
            }
            .fade-in-up {
                animation: fadeInUp 0.6s ease-out;
            }
            .flow-up {
                animation: flowUp 0.6s ease-out;
            }
            .progress-fill {
                animation: progressFill 2s ease-out forwards;
            }
            .scale-in {
                animation: scaleIn 0.6s ease-out forwards;
            }

            body {
                background: linear-gradient(
                    135deg,
                    #064e3b 0%,
                    #065f46 25%,
                    #047857 50%,
                    #059669 75%,
                    #10b981 100%
                );
                background-attachment: fixed;
            }

            .glass-effect {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }

            .gradient-text {
                background: linear-gradient(135deg, #10b981, #34d399, #6ee7b7);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .upload-area {
                border: 2px dashed #34d399;
                transition: all 0.3s ease;
            }

            .upload-area.dragover {
                border-color: #10b981;
                background-color: rgba(16, 185, 129, 0.1);
                transform: scale(1.02);
            }

            .image-preview {
                max-width: 100%;
                max-height: 400px;
                object-fit: contain;
                border-radius: 16px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            }

            .progress-bar {
                width: 0%;
                transition: width 0.3s ease;
            }

            .result-card {
                background: linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.15),
                    rgba(255, 255, 255, 0.05)
                );
                backdrop-filter: blur(15px);
                border: 1px solid rgba(255, 255, 255, 0.3);
            }

            .card-hover-effect:hover {
                transform: translateY(-8px) scale(1.02);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            }

            .parallax-scroll {
                transform: translateZ(0);
                will-change: transform;
            }

            .process-arrow {
                stroke-dasharray: 100;
                stroke-dashoffset: 100;
                animation: drawArrow 2s ease-in-out infinite;
            }

            .tech-grid {
                background-image: radial-gradient(
                    circle at 2px 2px,
                    rgba(255, 255, 255, 0.1) 1px,
                    transparent 0
                );
                background-size: 20px 20px;
            }

            .healthy-gradient {
                background: linear-gradient(135deg, #10b981, #34d399);
            }

            .warning-gradient {
                background: linear-gradient(135deg, #f59e0b, #fbbf24);
            }

            .danger-gradient {
                background: linear-gradient(135deg, #ef4444, #f87171);
            }

            .info-gradient {
                background: linear-gradient(135deg, #3b82f6, #60a5fa);
            }
        </style>
    </head>

    <body class="min-h-screen">
        <!-- Navbar -->
        <nav
            class="bg-white/90 backdrop-blur-xl border-b border-emerald-200/30 sticky top-0 z-50 shadow-lg"
        >
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20">
                    <!-- Logo Section -->
                    <div class="flex items-center space-x-4">
                        <div
                            class="relative w-14 h-14 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-2xl flex items-center justify-center overflow-hidden group hover:scale-110 hover:rotate-6 transition-transform duration-300 pulse-glow"
                        >
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent -skew-x-12 wave-animation"
                            ></div>
                            <svg
                                class="w-7 h-7 text-white z-10"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                            </svg>
                        </div>
                        <div>
                            <h1
                                class="text-2xl font-bold gradient-text tracking-tight"
                            >
                                Medical AI
                            </h1>
                            <p class="text-xs text-emerald-600 font-medium">
                                Pulmonary Care
                            </p>
                        </div>
                    </div>

                    <!-- Desktop Navigation -->
                    <div class="hidden md:flex items-center space-x-2">
                        <a
                            href="/"
                            class="relative px-6 py-3 text-gray-700 hover:text-emerald-700 font-semibold rounded-xl transition-all duration-300 hover:bg-emerald-50 hover:-translate-y-1 hover:shadow-lg group overflow-hidden"
                        >
                            Beranda
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-transparent via-emerald-100/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-500"
                            ></div>
                        </a>
                        <a
                            href="/information"
                            class="relative px-6 py-3 text-gray-700 hover:text-emerald-700 font-semibold rounded-xl transition-all duration-300 hover:bg-emerald-50 hover:-translate-y-1 hover:shadow-lg group overflow-hidden"
                        >
                            Informasi
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-transparent via-emerald-100/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-500"
                            ></div>
                        </a>
                        <a
                            href="/process"
                            class="relative px-6 py-3 text-gray-700 hover:text-emerald-700 font-semibold rounded-xl transition-all duration-300 hover:bg-emerald-50 hover:-translate-y-1 hover:shadow-lg group overflow-hidden"
                        >
                            Proses
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-transparent via-emerald-100/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-500"
                            ></div>
                        </a>
                        <a
                            href="/predict"
                            class="relative px-6 py-3 text-emerald-700 bg-emerald-50 font-semibold rounded-xl transition-all duration-300 hover:bg-emerald-100 hover:-translate-y-1 hover:shadow-lg group"
                        >
                            Prediksi
                            <div
                                class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4/5 h-0.5 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full"
                            ></div>
                        </a>
                    </div>

                    <!-- Mobile Menu Button -->
                    <div class="md:hidden">
                        <button
                            class="p-2 rounded-xl hover:bg-emerald-50 transition-colors duration-300 group"
                        >
                            <div
                                class="w-6 h-6 flex flex-col justify-center items-center space-y-1.5"
                            >
                                <span
                                    class="block w-6 h-0.5 bg-gray-600 rounded-full transition-all duration-300 group-hover:bg-emerald-600"
                                ></span>
                                <span
                                    class="block w-6 h-0.5 bg-gray-600 rounded-full transition-all duration-300 group-hover:bg-emerald-600"
                                ></span>
                                <span
                                    class="block w-6 h-0.5 bg-gray-600 rounded-full transition-all duration-300 group-hover:bg-emerald-600"
                                ></span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="relative overflow-hidden">
            <!-- Floating Decorative Elements -->
            <div class="absolute inset-0 overflow-hidden">
                <div
                    class="absolute top-20 right-20 w-72 h-72 bg-gradient-to-br from-emerald-400/20 to-green-400/20 rounded-full blur-3xl float-animation"
                ></div>
                <div
                    class="absolute bottom-20 left-20 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-emerald-400/20 rounded-full blur-3xl float-animation"
                    style="animation-delay: 2s"
                ></div>
                <div
                    class="absolute top-1/3 left-1/3 w-64 h-64 bg-gradient-to-br from-green-300/15 to-emerald-300/15 rounded-full blur-3xl float-animation"
                    style="animation-delay: 4s"
                ></div>
            </div>

            <!-- Medical Pattern Background -->
            <div class="absolute inset-0 opacity-5">
                <svg
                    class="w-full h-full"
                    viewBox="0 0 100 100"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <defs>
                        <pattern
                            id="medical-pattern"
                            x="0"
                            y="0"
                            width="20"
                            height="20"
                            patternUnits="userSpaceOnUse"
                        >
                            <circle cx="10" cy="10" r="1" fill="currentColor" />
                            <path
                                d="M8 10h4M10 8v4"
                                stroke="currentColor"
                                stroke-width="0.5"
                            />
                        </pattern>
                    </defs>
                    <rect
                        width="100%"
                        height="100%"
                        fill="url(#medical-pattern)"
                        class="text-white"
                    />
                </svg>
            </div>

            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
                <!-- Page Header -->
                <div class="text-center mb-16">
                    <div class="flex justify-center mb-8">
                        <div
                            class="w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-3xl flex items-center justify-center pulse-glow"
                        >
                            <svg
                                class="w-10 h-10 text-white"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                                ></path>
                            </svg>
                        </div>
                    </div>

                    <h1
                        class="text-4xl md:text-6xl font-extrabold text-white mb-6 tracking-tight drop-shadow-2xl"
                    >
                        Prediksi Penyakit
                        <span class="block text-emerald-200 mt-2"
                            >Paru-paru</span
                        >
                    </h1>

                    <p
                        class="text-xl text-emerald-100 max-w-3xl mx-auto leading-relaxed drop-shadow-lg"
                    >
                        Upload foto X-ray paru-paru Anda untuk mendapatkan
                        prediksi diagnosis yang akurat menggunakan teknologi AI
                        terdepan
                    </p>
                </div>

                <!-- Upload Section -->
                <div class="max-w-4xl mx-auto mb-20">
                    <div class="glass-effect rounded-3xl p-8 md:p-12">
                        <div class="text-center mb-8">
                            <h2
                                class="text-2xl md:text-3xl font-bold text-white mb-4"
                            >
                                Upload Foto X-ray
                            </h2>
                            <p class="text-emerald-100">
                                Pilih file gambar X-ray paru-paru dalam format
                                JPG, PNG, atau JPEG
                            </p>
                        </div>

                        <!-- Upload Area -->
                        <div
                            id="uploadArea"
                            class="upload-area rounded-2xl p-12 text-center cursor-pointer hover:bg-emerald-50/5 transition-all duration-300"
                        >
                            <div id="uploadContent">
                                <svg
                                    class="w-16 h-16 text-emerald-300 mx-auto mb-6"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                                    ></path>
                                </svg>
                                <h3
                                    class="text-xl font-semibold text-white mb-2"
                                >
                                    Drag & Drop atau Klik untuk Upload
                                </h3>
                                <p class="text-emerald-200 mb-6">
                                    Maksimal ukuran file: 5MB
                                </p>
                                <button
                                    id="uploadBtn"
                                    class="px-8 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-600 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                                >
                                    Pilih File
                                </button>
                            </div>
                            <input
                                type="file"
                                id="fileInput"
                                accept="image/*"
                                class="hidden"
                            />
                        </div>

                        <!-- Image Preview -->
                        <div id="imagePreview" class="hidden mt-8">
                            <div class="text-center">
                                <img
                                    id="previewImage"
                                    class="image-preview mx-auto mb-8"
                                    alt="Preview"
                                />
                                <!-- Select for Model Choice -->
                                <div class="mb-8">
                                    <label
                                        for="model_choice"
                                        class="block text-white font-semibold mb-2"
                                        >Pilih Model:</label
                                    >
                                    <select
                                        id="model_choice"
                                        class="px-8 py-3 border border-gray-300 font-semibold rounded-xl text-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                                    >
                                        <option value="model1">
                                            EfficientNet_B0
                                        </option>
                                        <option value="model2">
                                            EfficientNetV2_B0
                                        </option>
                                        <option value="model3">
                                            EfficientNetV2_S
                                        </option>
                                        <option value="model4">
                                            EfficientNetV2_M
                                        </option>
                                    </select>
                                </div>
                                <div class="flex justify-center space-x-4">
                                    <button
                                        id="resetBtn"
                                        class="px-8 py-3 bg-red-500 text-white font-semibold rounded-xl hover:bg-gray-600 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                                    >
                                        Reset
                                    </button>
                                    <button
                                        id="analyzeBtn"
                                        class="px-8 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-600 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex items-center space-x-2"
                                    >
                                        <svg
                                            class="w-5 h-5"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                                            ></path>
                                        </svg>
                                        <span>Analisis Gambar</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Loading State -->
                        <div id="loadingState" class="hidden mt-8 text-center">
                            <div class="inline-flex items-center space-x-3">
                                <svg
                                    class="w-8 h-8 text-emerald-400 spin-animation"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                                    ></path>
                                </svg>
                                <span class="text-xl font-semibold text-white">
                                    Menganalisis gambar...
                                </span>
                            </div>
                            <div class="mt-4 max-w-md mx-auto">
                                <div class="bg-gray-200 rounded-full h-2">
                                    <div
                                        id="progressBar"
                                        class="progress-bar bg-gradient-to-r from-emerald-500 to-green-500 h-2 rounded-full"
                                    ></div>
                                </div>
                                <p class="text-emerald-200 mt-2 text-sm">
                                    Memproses dengan AI...
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div
                    id="resultsSection"
                    class="hidden max-w-6xl mx-auto fade-in"
                >
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Main Result Card -->
                        <div class="result-card rounded-3xl p-8">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4"
                                >
                                    <svg
                                        class="w-8 h-8 text-white"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                                        ></path>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">
                                    Hasil Prediksi
                                </h3>
                                <p class="text-emerald-200">
                                    Berdasarkan analisis AI
                                </p>
                            </div>

                            <div class="space-y-6">
                                <div class="bg-white/10 rounded-xl p-6">
                                    <h4
                                        class="text-lg font-semibold text-white mb-3"
                                    >
                                        Diagnosis Utama
                                    </h4>
                                    <div
                                        id="mainDiagnosis"
                                        class="text-2xl font-bold text-emerald-300"
                                    >
                                        Pneumonia
                                    </div>
                                </div>

                                <div class="bg-white/10 rounded-xl p-6">
                                    <h4
                                        class="text-lg font-semibold text-white mb-3"
                                    >
                                        Tingkat Kepercayaan
                                    </h4>
                                    <div class="flex items-center space-x-3">
                                        <div
                                            class="flex-1 bg-gray-200 rounded-full h-3"
                                        >
                                            <div
                                                id="confidenceBar"
                                                class="bg-gradient-to-r from-emerald-500 to-green-500 h-3 rounded-full"
                                                style="width: 92%"
                                            ></div>
                                        </div>
                                        <span
                                            id="confidenceText"
                                            class="text-white font-bold text-lg"
                                        >
                                            92%
                                        </span>
                                    </div>
                                </div>

                                <div class="bg-white/10 rounded-xl p-6">
                                    <h4
                                        class="text-lg font-semibold text-white mb-3"
                                    >
                                        Status Risiko
                                    </h4>
                                    <div
                                        id="riskLevel"
                                        class="inline-flex items-center px-4 py-2 bg-orange-500/20 border border-orange-500/30 rounded-lg text-orange-300 font-semibold"
                                    >
                                        <svg
                                            class="w-5 h-5 mr-2"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"
                                            ></path>
                                        </svg>
                                        Risiko Sedang
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Information -->
                        <div class="result-card rounded-3xl p-8">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"
                                >
                                    <svg
                                        class="w-8 h-8 text-white"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                                        ></path>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">
                                    Informasi Tambahan
                                </h3>
                                <p class="text-emerald-200">
                                    Rekomendasi dan saran
                                </p>
                            </div>

                            <div class="space-y-4">
                                <div class="bg-white/10 rounded-xl p-4">
                                    <h4 class="font-semibold text-white mb-2">
                                        Gejala Umum:
                                    </h4>
                                    <ul
                                        class="text-emerald-200 text-sm space-y-1"
                                    >
                                        <li>• Batuk dengan dahak</li>
                                        <li>• Demam dan menggigil</li>
                                        <li>• Sesak napas</li>
                                        <li>• Nyeri dada</li>
                                    </ul>
                                </div>

                                <div class="bg-white/10 rounded-xl p-4">
                                    <h4 class="font-semibold text-white mb-2">
                                        Rekomendasi:
                                    </h4>
                                    <ul
                                        class="text-emerald-200 text-sm space-y-1"
                                    >
                                        <li>
                                            • Konsultasi dengan dokter spesialis
                                        </li>
                                        <li>• Istirahat yang cukup</li>
                                        <li>• Konsumsi obat sesuai resep</li>
                                        <li>
                                            • Monitor kondisi secara berkala
                                        </li>
                                    </ul>
                                </div>

                                <div
                                    class="bg-red-500/10 border border-red-500/30 rounded-xl p-4"
                                >
                                    <div class="flex items-center mb-2">
                                        <svg
                                            class="w-5 h-5 text-red-400 mr-2"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"
                                            ></path>
                                        </svg>
                                        <h4 class="font-semibold text-red-400">
                                            Disclaimer:
                                        </h4>
                                    </div>
                                    <p class="text-red-200 text-sm">
                                        Hasil prediksi ini hanya sebagai
                                        referensi dan bukan pengganti diagnosis
                                        medis profesional. Selalu konsultasikan
                                        dengan dokter untuk diagnosis yang
                                        akurat.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="text-center mt-12">
                        <div
                            class="flex flex-col sm:flex-row gap-4 justify-center"
                        >
                            <button
                                id="newAnalysisBtn"
                                class="px-8 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-600 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                            >
                                Analisis Gambar Baru
                            </button>
                            <button
                                id="downloadReportBtn"
                                class="px-8 py-3 bg-blue-500 text-white font-semibold rounded-xl hover:bg-blue-600 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                            >
                                Download Laporan
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer
            class="relative bg-gradient-to-t from-emerald-900/95 via-emerald-800/90 to-emerald-900/95 backdrop-blur-xl border-t border-emerald-400/30"
        >
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                    <!-- Company Info -->
                    <div class="md:col-span-2">
                        <div class="flex items-center space-x-4 mb-8">
                            <div
                                class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center pulse-glow"
                            >
                                <svg
                                    class="w-8 h-8 text-white"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                >
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-3xl font-bold text-white">
                                    Medical AI
                                </h3>
                                <p class="text-emerald-300 font-medium">
                                    X-Ray Paru-paru
                                </p>
                            </div>
                        </div>
                        <p
                            class="text-emerald-100 text-lg leading-relaxed mb-8"
                        >
                            Sistem AI terdepan untuk klasifikasi penyakit
                            paru-paru menggunakan teknologi machine learning dan
                            deep learning terkini. Memberikan diagnosis yang
                            akurat, cepat, dan dapat diandalkan untuk mendukung
                            tenaga medis dalam pengambilan keputusan klinis.
                        </p>
                        <div class="flex space-x-4">
                            <a
                                href="#"
                                class="group p-4 bg-emerald-600/30 rounded-2xl hover:bg-emerald-600/50 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                            >
                                <svg
                                    class="w-6 h-6 text-emerald-200 group-hover:text-white"
                                    fill="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"
                                    />
                                </svg>
                            </a>
                            <a
                                href="#"
                                class="group p-4 bg-emerald-600/30 rounded-2xl hover:bg-emerald-600/50 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                            >
                                <svg
                                    class="w-6 h-6 text-emerald-200 group-hover:text-white"
                                    fill="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                                    />
                                </svg>
                            </a>
                            <a
                                href="#"
                                class="group p-4 bg-emerald-600/30 rounded-2xl hover:bg-emerald-600/50 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
                            >
                                <svg
                                    class="w-6 h-6 text-emerald-200 group-hover:text-white"
                                    fill="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M23,9.71a8.5,8.5,0,0,0-.91-4.13,2.92,2.92,0,0,0-1.72-1A78.36,78.36,0,0,0,12,4.27a78.45,78.45,0,0,0-8.34.3,2.87,2.87,0,0,0-1.46.74c-.9.83-1,2.25-1.1,3.45a48.29,48.29,0,0,0,0,6.48,9.55,9.55,0,0,0,.3,2,3.14,3.14,0,0,0,.71,1.36,2.86,2.86,0,0,0,1.49.78,45.18,45.18,0,0,0,6.5.33c3.5.05,6.57,0,10.2-.28a2.88,2.88,0,0,0,1.53-.78,2.49,2.49,0,0,0,.61-1,10.58,10.58,0,0,0,.52-3.4C23,13.69,23,10.31,23,9.71ZM9.74,14.85V8.66l5.92,3.11C14,12.69,11.81,13.73,9.74,14.85Z"
                                    />
                                </svg>
                            </a>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div>
                        <h4
                            class="text-xl font-bold text-white mb-8 flex items-center"
                        >
                            <svg
                                class="w-5 h-5 mr-2"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z"
                                ></path>
                            </svg>
                            Navigasi
                        </h4>
                        <ul class="space-y-4">
                            <li>
                                <a
                                    href="/"
                                    class="text-emerald-200 hover:text-white transition-colors duration-300 hover:translate-x-2 inline-flex items-center group"
                                >
                                    <svg
                                        class="w-4 h-4 mr-2 group-hover:translate-x-1 transition-transform duration-300"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M9 5l7 7-7 7"
                                        ></path>
                                    </svg>
                                    Beranda
                                </a>
                            </li>
                            <li>
                                <a
                                    href="/information"
                                    class="text-emerald-200 hover:text-white transition-colors duration-300 hover:translate-x-2 inline-flex items-center group"
                                >
                                    <svg
                                        class="w-4 h-4 mr-2 group-hover:translate-x-1 transition-transform duration-300"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M9 5l7 7-7 7"
                                        ></path>
                                    </svg>
                                    Informasi
                                </a>
                            </li>
                            <li>
                                <a
                                    href="/process"
                                    class="text-emerald-200 hover:text-white transition-colors duration-300 hover:translate-x-2 inline-flex items-center group"
                                >
                                    <svg
                                        class="w-4 h-4 mr-2 group-hover:translate-x-1 transition-transform duration-300"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M9 5l7 7-7 7"
                                        ></path>
                                    </svg>
                                    Proses
                                </a>
                            </li>
                            <li>
                                <a
                                    href="/predict"
                                    class="text-emerald-200 hover:text-white transition-colors duration-300 hover:translate-x-2 inline-flex items-center group"
                                >
                                    <svg
                                        class="w-4 h-4 mr-2 group-hover:translate-x-1 transition-transform duration-300"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M9 5l7 7-7 7"
                                        ></path>
                                    </svg>
                                    Prediksi
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Contact Info -->
                    <div>
                        <h4 class="text-xl font-bold text-white mb-8">
                            Kontak
                        </h4>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-8 h-8 bg-emerald-600/30 rounded-lg flex items-center justify-center"
                                >
                                    <svg
                                        class="w-4 h-4 text-emerald-200"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                                        ></path>
                                    </svg>
                                </div>
                                <span class="text-emerald-200"
                                    >whintavirginia@gmail.com</span
                                >
                            </div>
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-8 h-8 bg-emerald-600/30 rounded-lg flex items-center justify-center"
                                >
                                    <svg
                                        class="w-4 h-4 text-emerald-200"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                                        ></path>
                                    </svg>
                                </div>
                                <span class="text-emerald-200"
                                    >+62 822 3096 8314</span
                                >
                            </div>
                            <div class="flex items-center space-x-3">
                                <div
                                    class="w-8 h-8 bg-emerald-600/30 rounded-lg flex items-center justify-center"
                                >
                                    <svg
                                        class="w-4 h-4 text-emerald-200"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                                        ></path>
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                                        ></path>
                                    </svg>
                                </div>
                                <span class="text-emerald-200"
                                    >Malang, Indonesia</span
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Section -->
                <div class="pt-8 border-t border-emerald-200/30">
                    <div
                        class="flex flex-col md:flex-row justify-between items-center"
                    >
                        <p class="text-emerald-200">© Whinta Virginia Putri</p>
                        <div class="flex space-x-6 mt-4 md:mt-0">
                            <a
                                href="#"
                                class="text-emerald-200 hover:text-white transition-colors duration-300"
                                >Kebijakan Privasi</a
                            >
                            <a
                                href="#"
                                class="text-emerald-200 hover:text-white transition-colors duration-300"
                                >Syarat & Ketentuan</a
                            >
                            <a
                                href="#"
                                class="text-emerald-200 hover:text-white transition-colors duration-300"
                                >Bantuan</a
                            >
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Scripts -->
        <script>
            // X-ray Upload Handler JavaScript
            document.addEventListener("DOMContentLoaded", function () {
                // Get DOM elements
                const uploadArea = document.getElementById("uploadArea");
                const uploadBtn = document.getElementById("uploadBtn");
                const fileInput = document.getElementById("fileInput");
                const imagePreview = document.getElementById("imagePreview");
                const previewImage = document.getElementById("previewImage");
                const analyzeBtn = document.getElementById("analyzeBtn");
                const resetBtn = document.getElementById("resetBtn");
                const loadingState = document.getElementById("loadingState");
                const progressBar = document.getElementById("progressBar");
                const uploadContent = document.getElementById("uploadContent");

                let selectedFile = null;

                // File size limit (5MB)
                const MAX_FILE_SIZE = 5 * 1024 * 1024;

                // Allowed file types
                const ALLOWED_TYPES = ["image/jpeg", "image/jpg", "image/png"];

                // Initialize event listeners
                initEventListeners();

                function initEventListeners() {
                    // Upload button click
                    uploadBtn.addEventListener("click", () => {
                        fileInput.click();
                    });

                    // File input change
                    fileInput.addEventListener("change", handleFileSelect);

                    // Drag and drop events
                    uploadArea.addEventListener("dragover", handleDragOver);
                    uploadArea.addEventListener("dragleave", handleDragLeave);
                    uploadArea.addEventListener("drop", handleDrop);

                    // Analyze button
                    analyzeBtn.addEventListener("click", analyzeImage);

                    // Reset button
                    resetBtn.addEventListener("click", resetUpload);

                    // Prevent default drag behaviors
                    ["dragenter", "dragover", "dragleave", "drop"].forEach(
                        (eventName) => {
                            uploadArea.addEventListener(
                                eventName,
                                preventDefaults,
                                false
                            );
                            document.body.addEventListener(
                                eventName,
                                preventDefaults,
                                false
                            );
                        }
                    );
                }

                function preventDefaults(e) {
                    e.preventDefault();
                    e.stopPropagation();
                }

                function handleDragOver(e) {
                    uploadArea.classList.add(
                        "border-emerald-400",
                        "bg-emerald-50/10"
                    );
                }

                function handleDragLeave(e) {
                    uploadArea.classList.remove(
                        "border-emerald-400",
                        "bg-emerald-50/10"
                    );
                }

                function handleDrop(e) {
                    uploadArea.classList.remove(
                        "border-emerald-400",
                        "bg-emerald-50/10"
                    );
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        handleFile(files[0]);
                    }
                }

                function handleFileSelect(e) {
                    const file = e.target.files[0];
                    if (file) {
                        handleFile(file);
                    }
                }

                function handleFile(file) {
                    // Validate file type
                    if (!ALLOWED_TYPES.includes(file.type)) {
                        showNotification(
                            "Format file tidak didukung. Gunakan JPG, PNG, atau JPEG.",
                            "error"
                        );
                        return;
                    }

                    // Validate file size
                    if (file.size > MAX_FILE_SIZE) {
                        showNotification(
                            "Ukuran file terlalu besar. Maksimal 5MB.",
                            "error"
                        );
                        return;
                    }

                    selectedFile = file;
                    displayImagePreview(file);
                }

                function displayImagePreview(file) {
                    uploadArea.classList.add("hidden");
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        previewImage.src = e.target.result;
                        previewImage.alt = file.name;

                        // Hide upload area and show preview
                        uploadContent.style.display = "none";
                        imagePreview.classList.remove("hidden");

                        showNotification(
                            "Gambar berhasil diupload! Siap untuk dianalisis.",
                            "success"
                        );
                    };

                    reader.onerror = function () {
                        showNotification(
                            "Gagal membaca file. Silakan coba lagi.",
                            "error"
                        );
                    };

                    reader.readAsDataURL(file);
                }

                function analyzeImage() {
                    if (!selectedFile) {
                        showNotification(
                            "Tidak ada file yang dipilih untuk dianalisis.",
                            "error"
                        );
                        return;
                    }

                    // Hide preview and show loading
                    imagePreview.classList.add("hidden");
                    loadingState.classList.remove("hidden");

                    // Reset progress bar
                    progressBar.style.width = "0%";

                    // Kirim gambar ke server langsung setelah mulai animasi
                    sendImageToServer(selectedFile);

                    // Simulate analysis process
                    simulateAnalysis();
                }

                function simulateAnalysis() {
                    let progress = 0;
                    const progressInterval = setInterval(() => {
                        progress += Math.random() * 15;

                        if (progress > 100) {
                            progress = 100;
                            clearInterval(progressInterval);
                        }

                        progressBar.style.width = progress + "%";
                    }, 200);
                }

                function sendImageToServer(imageFile) {
                    const formData = new FormData();
                    formData.append("image", imageFile);

                    const selectedModel =
                        document.getElementById("model_choice").value;
                    formData.append("model", selectedModel);

                    fetch("/analyze", {
                        method: "POST",
                        body: formData,
                    })
                        .then((response) => response.json())
                        .then((data) => {
                            if (data.success) {
                                showNotification(
                                    "Gambar berhasil dianalisis!",
                                    "success"
                                );
                                sendResult(data);
                            } else {
                                showNotification(
                                    "Gagal menganalisis gambar.",
                                    "error"
                                );
                            }
                        })
                        .catch((error) => {
                            showNotification(
                                "Terjadi kesalahan. Coba lagi.",
                                "error"
                            );
                        });
                }

                function sendResult(data) {
                    // simpan gambar ke session storage user
                    const reader = new FileReader();
                    reader.onloadend = function () {
                        sessionStorage.setItem("imageBase64", reader.result);
                    };
                    reader.readAsDataURL(selectedFile);
                    // simpan nama file ke session storage user
                    const fileName = selectedFile.name;
                    sessionStorage.setItem("fileName", fileName);

                    // simpan hasil analisis ke session storage user
                    sessionStorage.setItem(
                        "analysisResult",
                        JSON.stringify(data)
                    );

                    // redirect to result page
                    window.location.href = "/result";
                }

                function resetUpload() {
                    // Reset all states
                    selectedFile = null;
                    fileInput.value = "";
                    previewImage.src = "";

                    // Show upload area, hide preview and loading
                    uploadArea.classList.remove("hidden");
                    uploadContent.style.display = "block";
                    imagePreview.classList.add("hidden");
                    loadingState.classList.add("hidden");

                    // Remove analysis result
                    const analysisResult =
                        document.getElementById("analysisResult");
                    if (analysisResult) {
                        analysisResult.remove();
                    }

                    // Reset progress bar
                    progressBar.style.width = "0%";

                    showNotification(
                        "Upload direset. Silakan pilih file baru.",
                        "info"
                    );
                }

                function showNotification(message, type = "info") {
                    // Create notification element
                    const notification = document.createElement("div");
                    notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-semibold z-50 transform transition-all duration-300 translate-x-full opacity-0`;

                    // Set notification color based on type
                    const colors = {
                        success: "bg-green-600",
                        error: "bg-red-600",
                        info: "bg-blue-600",
                        warning: "bg-yellow-600",
                    };

                    notification.className += ` ${colors[type] || colors.info}`;
                    notification.textContent = message;

                    // Add to document
                    document.body.appendChild(notification);

                    // Show notification
                    setTimeout(() => {
                        notification.classList.remove(
                            "translate-x-full",
                            "opacity-0"
                        );
                    }, 100);

                    // Hide notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.add(
                            "translate-x-full",
                            "opacity-0"
                        );
                        setTimeout(() => {
                            if (notification.parentNode) {
                                notification.parentNode.removeChild(
                                    notification
                                );
                            }
                        }, 300);
                    }, 3000);
                }
            });
        </script>
    </body>
</html>
